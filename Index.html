<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
	<link rel="stylesheet" type="text/css" href="css/Site.css">
	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
	<script type="text/javascript">
    $(document).ready(function () {
      var width = 500;
      var height = width;

      //standard points
      var points = new Array();
      for(var i=1; i<4; i++) {
        for(var j=1; j<4; j++) {
          points.push({x: width * 1/4*j, y:height * 1/4*i});
        }
      }

      //default ratio to 0.1 ~ 1
      var half_length_of_eyes_ratio = 0.4;
      var position_of_eyes_ratio = 0.3;

      var angle_of_eyebrow_ratio = 0.5;

      var curvature_of_mouth_ratio = 0.1;
      //var slant_of_eyes_ratio = 0.5;
      

      var c = document.getElementById("chernoff_canvas");
      c.width = width;
      c.height = height;

      var context = c.getContext("2d");

      //FACE
      context.beginPath();
      context.arc(points[4].x, points[4].y, width/2, 0, 2 * Math.PI, false);
      context.stroke();

      //EYES      
      //half_length_of_eyes, slant_of_eyes, position_of_eyes
      var eye_half_length = half_length_of_eyes_ratio * width * 1/6;
      var eye_posiiton_x = points[1].x;
      var eye_posiiton_y = points[1].y + 30;
      var eye_position_relative_to_center = position_of_eyes_ratio * width * 1/3;

      context.beginPath();
      context.arc(eye_posiiton_x - eye_position_relative_to_center, eye_posiiton_y, eye_half_length, 0, 2 * Math.PI, false);
      context.stroke();

      context.beginPath();
      context.arc(eye_posiiton_x - eye_position_relative_to_center, eye_posiiton_y, eye_half_length/3, 0, 2 * Math.PI, false);
      context.fillStyle = 'black';
      context.fill();
      context.stroke();

      context.beginPath();
      context.arc(eye_posiiton_x + eye_position_relative_to_center, eye_posiiton_y, eye_half_length, 0, 2 * Math.PI, false);
      context.stroke();

      context.beginPath();
      context.arc(eye_posiiton_x + eye_position_relative_to_center, eye_posiiton_y, eye_half_length/3, 0, 2 * Math.PI, false);
      context.fillStyle = 'black';
      context.fill();
      context.stroke();

      //EYE BROW
      var eyebrow_angle = (angle_of_eyebrow_ratio - 0.5) * width * 1/6;
      var eyebrow_position_relative_to_center = width / 4;
      var eyebrow_position_center_y = points[0].y * 2/3;

      context.beginPath();
      context.moveTo(points[1].x - eyebrow_position_relative_to_center, eyebrow_position_center_y - eyebrow_angle);
      context.lineTo(points[1].x - 10, eyebrow_position_center_y + eyebrow_angle);
      context.stroke();

      context.beginPath();
      context.moveTo(points[1].x + 10, eyebrow_position_center_y + eyebrow_angle);
      context.lineTo(points[1].x + eyebrow_position_relative_to_center, eyebrow_position_center_y - eyebrow_angle);
      context.stroke();

      //NOSE
      context.beginPath();
      context.moveTo(points[1].x, points[1].y + height * 1/8);
      context.lineTo(points[4].x - width * 1/10, points[4].y + height * 1/8);
      context.lineTo(points[4].x + width * 1/10, points[4].y + height * 1/8);
      //context.lineTo(points[1].x, points[1].y + height * 1/8);
      context.stroke();

      //MOUSE
      var mouse_curvature, mouse_length, mouse_start_point, mouse_end_point, mouse_y_point;
      if(curvature_of_mouth_ratio > 0.5) {
        mouse_curvature = -1 * curvature_of_mouth_ratio * 50;
        mouse_length = width * 1/4 - mouse_curvature;
        mouse_y_point = points[7].y + width * 2/5 + mouse_curvature;
        mouse_start_point = (8+(curvature_of_mouth_ratio * 7))/8 * Math.PI;
        mouse_end_point = (8+(8 - curvature_of_mouth_ratio * 7))/8 * Math.PI;
      }
      else {
        mouse_curvature = -1 * curvature_of_mouth_ratio * 50;
        mouse_length = width * 1/4 - mouse_curvature;
        mouse_y_point = points[7].y - width * 1/6 + mouse_curvature;

        mouse_start_point = (8 - curvature_of_mouth_ratio * 7)/8 * Math.PI;
        mouse_end_point = (curvature_of_mouth_ratio * 7)/8 * Math.PI;
      }

      context.beginPath();
      context.arc(points[7].x, mouse_y_point,
        mouse_length, mouse_start_point, mouse_end_point, true);
      context.stroke();
      
    });
  </script>    
</head>

<body class="center" style="margin-top:10px;">
  <div class="center" style="padding:10px 0 0 0; max-width:1300px; margin-bottom:5px;">
    <canvas id="chernoff_canvas" style=""></canvas>
  </div>
</body>
</html>
